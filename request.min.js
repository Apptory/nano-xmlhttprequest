export default class Request{constructor(a,b){if("undefined"==typeof a||"undefined"==typeof b)throw new Error("Syntax error. Usage: new Request('https://developers.zest.is', 'POST')");this.method=b,this.url=a}do(a){return new Promise((b,c)=>{let d=new XMLHttpRequest;d.open(this.method,this.url,!0),d.setRequestHeader("Content-type","application/json; charset=utf-8"),d.onreadystatechange=()=>{if(4==d.readyState){if(200==d.status)return b(JSON.parse(d.responseText));c(d.responseText)}},"undefined"==typeof a?d.send():d.send(JSON.stringify(a))})}}
